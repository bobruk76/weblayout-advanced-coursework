//node modules
@import '../../node_modules/normalize-styl/normalize'
@import '../../node_modules/choices.js/public/assets/styles/choices.min.css'
@import '../../node_modules/swiper/swiper-bundle.min.css'
//helpers
@import 'base/fonts.styl'
@import 'base/vars.styl'
@import 'base/animation.styl'
//mixins
@import 'mixnis/mixins.styl'
//components
@import 'components/general.styl'
@import 'components/search.styl'
@import 'components/card-link.styl'
@import 'components/card.styl'
@import 'components/category-card.styl'
@import 'components/choices.styl'
@import 'components/swiper.styl'
@import 'components/useful.styl'
@import 'components/validate.styl'
@import 'components/modal-window.styl'
@import 'components/burger.styl'

/*aside*/
.aside
  grid-area sidebar

/*main*/
.main
  grid-area main

/*hero*/
.hero
  &__container
    overflow hidden
    width 100%

  &__slider
    position relative

  &__slide
    position relative

    display flex
    flex-direction column
    align-items flex-start
    justify-content flex-end
    height 400px
    overflow hidden
    @media (max-width 320px)
      height 302px

    &:after
      @extend .img-height100

    &-container
      padding-top 0
      padding-bottom 80px

      display flex
      flex-direction column
      justify-content flex-end
      align-items flex-start

      @media (max-width 320px)
        padding-top 31px
        padding-bottom 0
        justify-content space-between
        height 100%

    &-title
      margin-bottom 48px

      font-weight 700
      font-size 48px
      line-height 65px
      color color-dusty-gray
      max-width 500px
      @media (max-width 425px)
        padding-left 18px
        font-size 20px
        line-height 27px
        width 80%

      &--white
        color color-bg
        max-width 590px

    &-btn
      @media (max-width 320px)
        width 100%
        box-sizing border-box

    sliders = "first" 1, "second" 2, "third" 3
    for slide in sliders
      &-{slide[0]}
        &:after
          background-image url("../img/slide-"(slide[1]) "-1920.webp")
          background-repeat no-repeat
          background-size 100%
          background-position center

          for break in breaks
            @media (max-width (break) px)

              background-image url("../img/slide-"(slide[1]) "-"(break) ".webp")
              background-repeat no-repeat
              if break == 320
                background-size 320px 210px
                background-position top center
              else
                background-size 100%
                background-position center

/*special-offers*/
.special-offers
  &__slider
    @media (max-width 425px)
      padding-bottom 50px

  &__title
    @media (max-width 425px)
      font-weight 400
      //font-size 24px
      line-height 100%
      max-width 212px

  &__item
    &:not(:nth-child(3n))
      margin-right gap

  &__navigation
    @media (max-width 425px)
      z-index 10
      overflow-y hidden

      top auto
      bottom 0
      right 'calc(50% - %s)' % gap36

/*high-rating*/
.high-rating
  &__container
    padding-bottom 70px
    display flex
    flex-direction column
    justify-content flex-start
    align-items center

  &__title
    align-self flex-start
    @media (max-width 425px)
      margin-bottom 24px
      //font-size 24px
      line-height 100%

  &__items
    margin-bottom gap
    margin-left 0
    margin-right 0

    display grid
    grid-template-rows repeat(2, 1fr)
    grid-template-columns repeat(4, 1fr)

    grid-row-gap gap
    grid-column-gap 'calc((100% - (4 * %s)) / 3)' % cadr-width

    width 100%

    @media (max-width 1440px)
      grid-template-columns repeat(3, 1fr)
      grid-column-gap 'calc((100% - (3 * %s)) / 2)' % cadr-width

    @media (max-width 900px)
      grid-template-columns repeat(2, 1fr)
      grid-template-rows repeat(3, 1fr)
      grid-column-gap 'calc(100% - (2 * %s))' % cadr-width

    @media (max-width 425px)
      grid-gap 'calc(%s / 2)' % gap

  &__item
    max-width initial
    height card-height
    min-height initial

    @media (max-width 1440px)
      &:not(:nth-child(-n + 6))
        display none

    @media (max-width 768px)
      min-width initial
      width 100%

    @media (max-width 425px)
      padding 16px
      height 278px
      max-height initial

    &.card
      @media (max-width 425px)
        justify-content space-between

      & .card__picture
        margin-left -15px
        margin-right -15px
        @media (max-width 425px)
          margin auto 0

      & .card__price
        @media (max-width 425px)
          margin-top 0
          margin-bottom 16px

      & .card__btn
        @media (max-width 425px)
          padding 10px 0
          width 100%

      & .card__descr
        @media (max-width 425px)
          margin-bottom 16px
          font-size 16px
          line-height 130%

  &__btn
    padding 20px 35px
    @media (max-width 425px)
      padding 20px 0
      width 100%

/*ad*/
.ad
  position relative
  grid-area ad
  display flex
  flex-direction column
  justify-content center

  width 100%
  min-height 600px
  overflow hidden
  @media (max-width 425px)
    display grid
    min-height 302px

  &:after
    @extend .img-height100
    background-image url("../img/ad-bg-1920.webp")
    background-repeat no-repeat
    background-size 100%
    background-position center

    for break in breaks
      @media (max-width (break) px)
        background-image url("../img/ad-bg-"(break) ".webp")
        background-repeat no-repeat
        if break == 320
          background-size 320px 210px
          background-position top center
        else
          background-size 100%
          background-position center

  &__container
    padding 11px 0 0
    display flex
    flex-direction column
    justify-content flex-start
    align-items flex-start

    &.container
      @media (max-width 900px)
        padding-top 9px
        margin-left gap36

      @media (max-width 425px)
        margin 0 13px
        display grid
        grid-template-rows 52px 38px auto
        grid-template-columns repeat(2, auto)
        align-items end

  &__title
    margin 0
    font-family "Playfair Display", Verdana, sans-serif
    font-style normal
    font-weight 900
    font-size 60px
    line-height 120%
    color color-straw

    @media (max-width 900px)
      line-height inherit

    @media (max-width 425px)
      grid-column span 1
      grid-row 1 / 2
      font-size 24px

  &__descr
    margin-bottom 49px
    font-weight 400
    font-size 48px
    line-height 120%
    color color-bg
    max-width 508px
    @media (max-width 425px)
      margin 0
      grid-column span 1
      grid-row 2 / 3

      width 60%
      font-size 16px

  &__btn
    padding 20px 30px
    @media (max-width 425px)
      grid-column span 2
      grid-row 3 / 4
      width 100%

/*useful*/
.useful
  &__container
    padding-top 75px
    @media (max-width 1200px)
      padding-top 70px
    @media (max-width 425px)
      padding-top 80px

  &__slider
    @media (max-width 425px)
      padding-bottom 48px

  &__navigation
    @media (max-width 425px)
      z-index 10
      top auto
      bottom 1px
      right 'calc(50% - %s)' % gap36

/*category*/
.category
  &__items
    display grid
    grid-template-columns repeat(6, 1fr)
    grid-gap gap
    @media (max-width 900px)
      grid-template-columns repeat(2, 1fr)
    @media (max-width 425px)
      grid-column-gap 'calc(%s / 2)' % gap

  &__item
    grid-column span 2
    overflow hidden
    order 10
    @media (max-width 900px)
      grid-column span 1
      border-radius 10px

    &:nth-child(1)
      order 1
      grid-column span 3
      @media (max-width 1024px)
        grid-column span 4
      @media (max-width 900px)
        grid-column 1 / 3
      @media (max-width 425px)
        padding-bottom 'calc(%s / 2)' % gap
        grid-row-gap 13px
        & .category-card__title
          font-size 24px
          line-height 33px

    &:not(:nth-child(1))
      @media (max-width 425px)
        padding 17px 16px 16px 16px

      & .category-card__items
        @media (max-width 425px)
          margin-bottom 4px
          flex-direction column
          justify-content initial
          font-size 10px

      & .category-card__item
        @media (max-width 425px)
          margin-bottom 4px

      & .category-card__title.title
        @media (max-width 425px)
          margin-bottom 20px

      & .category-card__link
        @media (max-width 425px)
          align-self self-end
          margin-bottom 11px

      & .category-card__picture
        @media (max-width 425px)
          margin 0 -16px

    &:nth-child(2)
      grid-column span 3
      @media (max-width 1024px)
        order 4
        grid-column span 2

      @media (max-width 900px)
        order 3
        grid-column span 1

    &:nth-child(3)
      @media (max-width 1024px)
        order 2

    &:nth-child(4)
      @media (max-width 1024px)
        order 3
      @media (max-width 900px)
        order 4

/*contacts*/
.contacts
  &__container
    padding-bottom 68px
    background-image url("../img/contacts-1920.webp")
    background-repeat no-repeat
    background-position top 94px right
    @media (max-width 1200px)
      padding-top 72px
      background-image url("../img/contacts-1024.webp")
      background-repeat no-repeat
      background-position top 149px right
    @media (max-width 900px)
      background-image url("../img/contacts-768.webp")
      background-size 187px 444px
      background-repeat no-repeat
      background-position top 84px right

  &__form
    @media (max-width 900px)
      width 'calc(67% - (%s / 2))' % gap

    &-title
      margin-bottom 8px

    &-descr
      margin-bottom 'calc(%s / 2)' % gap
      font-weight 400
      font-size 14px
      line-height 19px
      color color-dove-gray

@import 'components/header.styl'
@import 'components/catalog.styl'
@import 'components/product.styl'
@import 'components/cooperation.styl'
@import 'components/contacts.styl'
@import 'components/footer.styl'
